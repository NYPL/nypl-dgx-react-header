@import 'utils/fonts';
@import 'utils/normalize';
@import 'utils/globals';
@import 'utils/colors';
@import 'utils/viewports';
@import 'utils/mixins';

/* NYPL HEADER
 * -----------
 * -- Following BEM naming convention
 * -- Mobile First approach
*/
.Header {
	@include Kievit-Book;
  width: 100%;
  background-color: #FFF;
  @extend %clearfix;

  /* Global rules for repetitive link elements */
  a {
    text-decoration: none;
  }

  &.sticky {
  	@include desktop {
	  	.Header {
	  		&-Wrapper{
	  			border-top: 2px solid #EA212E;
	  			z-index: 3;
					width: 100%;
					position: fixed;
					top: 0;
					background-color: #FFF;
					height: 65px;
					box-shadow: 0px 2px 2.5px 0px rgba(50, 50, 50, 0.25);
					transition: all 0.4s ease;
	  		}

	  		&-Buttons {
	  			display: none !important;
	  		}

	  		&-Logo {
	  			display: inline-block;
	  			left: 0;
	  			width: auto;

	  			img {
	  				display: none;
	  			}
	  			span {
	  				display: block !important;
	  				font-size: 65px;
	  				color: #000;
	  			}
	  		}

	  		&-NavMenu {
	  			position: absolute;
	  			width: 100%;
	  			bottom: 5px;
	  		}
	  	}
  	}
  }

	/* DESKTOP HEADER WRAPPER
	 * ----------------------
	 * Sets the max-width on a desktop and up device.
	*/
	&-TopWrapper {
  	display: none;

  	@include desktop {
  		display: block;
  		max-width: $PAGE_WIDTH_WRAPPER_DESKTOP;
  	}
	}

	&-Logo {
    display: block;
    width: 230px;
    position: relative;
    left: -8px;
	}

	/* TOP HEADER BUTTONS
	 * ------------------
	 * - Sign In
	 * - E-mail Subscription
	 * - Donate
	*/ 
	&-Buttons {

		.SubscribeButton, .DonateButton, .SignInButton, .LibraryCardButton {
			@include Kievit-Bold;
			font-size: 11px;

			&:visited {
				color: #000;
			}
		}

		.SubscribeButton.active {
			background-color: #1980a9;
			color: #FFF;
		}

		.DonateButton {
			border-radius: 4px;
		}

	  .SignInButton-Wrapper {

	  	.signIn-up-arrow {
		  	@include up-arrow(#666666, 165px, 'top', -19px);	
		  }

		 	.LoginForm {
		  	font-size: 9px;

		  	a {
		  		display: inline-block;
		      padding: 7px 0;
		      margin-top: 7px;
		      color: #fff;
		  	}

				input[type=text], input[type=password] {
					height: 32px;
				}

				input[type=text] {
					width: 100%;
				}

				&-fields {
					padding: 7px;
					padding-bottom: 0;
				}

				&-text {
					color: #fff;
					padding: 0 7px;
				}

				&-longField {
					width: 145px;
					margin-right: 5px;
					display: inline-block;
				}

				&-shortField {
					width: 90px;
					display: inline-block;
					margin: 0 5px;

					input {
						width: 100%;
					}
				}
		  }

		  .SSOLoggedInMenu {
		  	a {
		  		margin: 0px;
			    padding: 0px;
			    color: #000000;
			    fontSize: 11px;
			    float: none;
			    width: 100px;
			    textDecoration: none;
		  	}
		  }
	  }

	  .EmailSubscribeForm-Wrapper {
	  	&.up-arrow {
	  		@include up-arrow(#EEE, 212px, 'top', -19px);
	  	}

	  	.EmailSubscribeForm {
	  		&-Title {
	  			border-top: 2px solid #FFF;
	  			padding-top: 10px;
	  			color: #fff;
	  			margin-bottom: 15px;
	  		}
	  	}
	  }
	}

	/* MOBILE HEADER
	 * -------------
	*/
	&-Mobile {
		display: block;
		
  	/* Hide MobileHeader on Desktop and larger viewports */
  	@include desktop {
  		display: none;
  	}
	}

	/* MAIN NAVIGATION
	 * ---------------
	 * - Includes MegaMenu's
	 * - Includes Logo text for mobile
	*/
	&-NavMenu {

		@import 'components/_search';
  	position: relative;
  	display: block;

  	/* Wrapper for the NavMenu */
  	&-Wrapper {
  		@include desktop {
  			margin: 0 auto;
  			max-width: 1312px;
				text-align: right;
  		}

  		&.mobileActive {
  			margin-top: -1px;
  			
  			/* Only display Logo Text on Mobile */
  			.MobileLogoText {
  				display: block;
  				@include desktop {
  					display: none;
  				}
  			}

  			/* Trigger display of NavMenu-List on Mobile */
  			.NavMenu-List {
  				display: block;
  			}

  			/* Only display BottomButtons on Mobile */
  			.MobileBottomButtons {
  				display: block;
  				@include desktop {
  					display: none;
  				}
  			}
  		}

	  	.MobileBottomButtons {
	  		/* Hide on all viewports, trigger display based on class */
	  		display: none;
	  	}
	  	
	  	.MobileLogoText {
	  		/* Hide on all viewports, trigger display based on class */
	  		display: none;
	  		position: absolute;
	  		top: 20px;
	  		left: 15px;
	  		color: #FFF;
	  		font-size: 85px;
	  	}

	  	/* Main <ul> list holding all NavItems */
		  .NavMenu-List {
		  	background-color: #2B2B2B;
		  	padding: 10px 0;
		  	margin: 0;
		  	list-style-type: none;
		  	text-align: right;
		  	display: none;

		  	@include desktop {
		  		display: inline-block;
		  		background-color: transparent;
		  		padding: 0;
			  	margin: 0 auto;
			  	max-width: $PAGE_WIDTH_WRAPPER_DESKTOP;
			  }

		  	/* Top level Link Rules */
		  	& > li {
		  		padding: 5px 0;
		  		margin: 3.5px 15px 0px 0;

		  		@include desktop {
		  			padding: 0;
		  			margin: 0;
		  			display: inline;
		  		}

					& > span {
			  		position: relative;
			  		display: inline-block;
			  		padding: 5px 8px 0;
			  		margin: 0;

			  		a {
			  			color: #FFF;
			  			@include Kievit-Book;
			  			font-size: 18px;

			  			@include desktop {
			  				color: #000;
			  				font-size: 16px;
			  			}
			  		}
			  	}
		  	}

		  	#NavMenuItem-Link {
					/* Arrow Assignment for Desktop and up */
					@include desktop {

			  		/* BROWSE */
			  		&-29a4b824-e084-4771-aafc-52b3586c5e49 {
				  		&.active {
				  			@include up-arrow($BG_MENU_BROWSE_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}
			  		}

			  		/* LEARN */
			  		&-925d1fa9-1138-403c-9990-38861902b02d{
				  		&.active {
				  			@include up-arrow($BG_MENU_LEARN_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}
			  		}

			  		/* ATTEND */
			  		&-851ed351-08f5-43f0-9011-9c317f85f0ca {
				  		&.active {
				  			@include up-arrow($BG_MENU_ATTEND_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}
			  		}

			  		/* FIND US */
			  		&-df621833-4dd1-4223-83e5-6ad7f98ad26a {
				  		&.active {
				  			@include up-arrow($BG_MENU_FINDUS_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}
			  		}

			  		/* RESEARCH */
			  		&-4bd4f525-3f5c-4c45-b7a7-0ee6bbd301e9 {
				  		&.active {
				  			@include up-arrow($BG_MENU_RESEARCH_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}
			  		}

			  		/* GIVE */
			  		&-1d9ea0ec-6ca3-4577-9dd1-e8de1f2a8bb1 {
				  		&.active {
				  			@include up-arrow($BG_MENU_GIVE_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}
			  		}

				  	/* GET HELP */
				  	&-13d95ad5-f117-4415-ba2c-5c0b9618984d {
				  		&.active {
				  			@include up-arrow($BG_MENU_HELP_RIGHT, 33%, 'bottom', -12px, 12px);
				  		}  		
				  	}
					}
		  	}
		  }

		  /* Dynamic Background Color Assignments */
		  #MegaMenu {
		  	/* BROWSE */
		  	&-29a4b824-e084-4771-aafc-52b3586c5e49{
		  		background-color: $BG_MENU_BROWSE_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_BROWSE_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_BROWSE_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_BROWSE_RIGHT;
						}
		  		}
		  	}

		  	/* LEARN */
		  	&-925d1fa9-1138-403c-9990-38861902b02d {
		  		background-color: $BG_MENU_LEARN_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_LEARN_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_LEARN_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_LEARN_RIGHT;
						}
		  		}
		  	}

		  	/* ATTEND */
		  	&-851ed351-08f5-43f0-9011-9c317f85f0ca {
		  		background-color: $BG_MENU_ATTEND_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_ATTEND_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_ATTEND_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_ATTEND_RIGHT;
						}
		  		}	
		  	}

		  	/* FIND US */
		  	&-df621833-4dd1-4223-83e5-6ad7f98ad26a {
		  		background-color: $BG_MENU_FINDUS_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_FINDUS_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_FINDUS_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_FINDUS_RIGHT;
						}
		  		}
		  	}

		  	/* RESEARCH */
		  	&-4bd4f525-3f5c-4c45-b7a7-0ee6bbd301e9 {
		  		background-color: $BG_MENU_RESEARCH_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_RESEARCH_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_RESEARCH_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_RESEARCH_RIGHT;
						}
		  		}
		  	}

		  	/* GIVE */
		  	&-1d9ea0ec-6ca3-4577-9dd1-e8de1f2a8bb1 {
		  		background-color: $BG_MENU_GIVE_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_GIVE_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_GIVE_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_GIVE_RIGHT;
						}
		  		}
		  	}
		  	/* GET HELP */
		  	&-13d95ad5-f117-4415-ba2c-5c0b9618984d {
		  		background-color: $BG_MENU_HELP_RIGHT;

		  		.MegaMenu {
						&-LeftBgWrapper {
							background-color: $BG_MENU_HELP_LEFT;
						}
						&-SubNavWrapper {
		  				background-color: $BG_MENU_HELP_LEFT;
						}
						&-FeaturesWrapper {
							background-color: $BG_MENU_HELP_RIGHT;
						}
		  		}
		  	}
		  }

		  .MegaMenu {
		  	display: none;
		  	color: #FFFFFF;
		  	width: 100%;
	  		position: absolute;
		  	top: 38px;
		  	left: 0;

		  	/* Only display MegaMenu's on Desktop */
		  	&.active {
		  		@include desktop {
		  			display: block;
		  		}
		  	}

		  	&-LeftBgWrapper {
					height: $MAIN_MENU_DESKTOP_HEIGHT;
					width: 50%;
					position: absolute;
					left: 0;
					z-index: 0;
		  	}

		  	&-Wrapper {
		  		width: 100%;
			  	display: block;
			  	min-height: $MAIN_MENU_DESKTOP_HEIGHT;
			  	margin: 0 auto;
			  	max-width: 1312px;
			  	z-index: 1;
			  	position: relative;
		  	}

		  	&-SubNavWrapper {
		  		position: absolute;
		  		width: 280px;
		  		display: block;
		  		margin: 0;
		  		padding: 0;
		  		height: $MAIN_MENU_DESKTOP_HEIGHT;
		  	}

		  	&-SubNav {
		  		position: absolute;
		  		right: 32px;
		  		width: 140px;
		  		text-align: left;

		  		a {
		  			color: #FFFFFF;
		  		}

		  		h2 {
		  			color: #FFFFFF;
		  			border-top: 2px solid #FFFFFF;
		  			margin: 35px 0 30px 0;
		  			padding: 12px 0 0 0;
		  			font-weight: normal;
		  		}

		  		ul {
		  			margin: 0;
		  			padding: 0;
		  			list-style-type: none;

		  			li {
		  				&:first-child {
		  					margin-top: 0px;
		  				}
		  				margin: 7px 0px 14px 0;
		  				display: block;
		  				padding: 0;
		  				
		  				a {
		  					font-size: 17px;
		  					margin: 0;
		  					padding: 0;
		  					display: block;
		  				}
		  			}
		  		}

		  		&-SocialMediaWidget {
		  			padding: 2px;
		  			margin: 15px 0 0 0;

		  			ul {
		  				list-style-type: none;
		  				margin: 0;
		  				padding: 0;

		  				li {
		  					display: inline-block;
		  					margin: 0 5px 0 0;

		  					&:last-child {
		  						margin-right: 0;
		  					}

		  					a {
		  						text-decoration: none;
		  						display: block;
		  						font-size: 28px;
		  					}
		  				}
		  			}
		  		}
		  	}

		  	&-FeaturesWrapper {
		  		display: block;
		  		width: auto;
		  		margin: 0 0 0 280px;
		  		padding: 0;
		  		height: $MAIN_MENU_DESKTOP_HEIGHT;
		  		text-align: left;
		  	}

		  	&-Features {
		  		display: block;
		  		margin: 0;
		  		padding: 0;
		  		width: 100%;
		  		height: 100%;
		  	}

		  	&-FeatureItem {
		  		display: inline-table;
		  		width: 50%;
		  		height: 100%;
		  		margin: 0;
		  		padding: 0;

					&-Wrapper {
						display: block;
						position: relative;
						margin: 0 0 0 25px;
						top: 50px;
					}
		  	}
		  }
		}

		.FeatureItem {

			&-Image {

				&.with-image {
					width: 88px;
					height: 88px;
					display: block;
					position: absolute;
					top: 40px;
				}

				img {
					border-radius: 50%;
					width: 88px;
					height: 88px;
				}
			}

			&-Content {
				color: #FFFFFF;
				
				&.with-image {
					display: block;
					padding: 0;
					margin: 0 10px 0 110px;
					width: auto;
					max-width: 100%;
				}

				&.without-image {
					margin: 0;
				}

				&-Tag {
					font-size: 13px;
					@include Kievit-Medium;
					text-transform: uppercase;
					letter-spacing: 0.05em;
				}
				&-Title {
					@include Milo-Light;
					font-size: 30px;
					line-height: 1em;
					margin: .75em 0;
					font-weight: normal;
					letter-spacing: 0.05em;
				}

				&-Desc {
					@include Kievit-Regular;
					font-size: 15.5px;
					line-height: 1.5em;
					letter-spacing: .01em;
				}

				&-Date {
					font-size: 15px;
					text-transform: uppercase;
					letter-spacing: 0.05em;
					margin-bottom: 0.5em;
				}

				&-Author {
					&-Name {
						font-size: 17px;
						font-weight: normal;
						margin-bottom: 0.3em;
					}
					&-Title {
						font-size: 14px;
					}
				}
			}
		}

  	/* FIND US WIDGET
  	 * --------------
  	 * Specific SASS rules for
  	 * this widget within the Header.
  	*/ 
  	.FindUsWidget {

  		&-FindUsFeature {
				display: inline-table;
				width: 50%;
				height: 100%;
				margin: 0;
				padding: 0;

  			&-Wrapper {
  				color: #FFFFFF;
					display: block;
					position: relative;
					margin: 0 0 0 25px;
					top: 50px;
  			}

  			&-Tag {
					font-size: 13px;
					@include Kievit-Medium;
					text-transform: uppercase;
					letter-spacing: 0.05em;
				}

				&-Title {
					font-size: 22px;
					@include Milo-Light;
					color: #FFF;
					line-height: 1em;
					margin: 0.8em 0 0.6em;
					font-weight: normal;
					letter-spacing: 0.05rem;
				}

  			&-IntroText {
					display: block;
					margin: 1em 0;
					@include Milo-Regular;
					line-height: 1.25em;
					font-size: 18px;
					max-width: 65%;
				}

				&-Link {
					margin-top: 10px;
					position: absolute;
					font-size: 13px;
					@include Kievit-Book;
					letter-spacing: 0.07em;
					background-color: $libraryBlue;
					color: #fff;
					padding: 10px 10px 10px 20px;
					margin: 10px 0;
				}

				&-SearchBox {
					display: block;
					margin: 10px 0 0 0;
				}

				#LocationFinder {
					&-Input {
						display: table-cell;
						border: none;
						height: 40px;
						width: 65%;
						padding: 2px 5px;
						font-size: 15px;
						color: #000;
					}
					&-Submit {
						display: table-cell;
						border: none;
						padding: 0px 15px;
						margin: 0px;
						height: 44px;
						background-color: $BG_MENU_SEARCH;
						width: auto;
						vertical-align: top;
						font-size: 15px;
					}
				}
			}
  	} /* End .FindUsWidget */

  	.DonateWidget {
  		&-DonateBox {
				display: inline-table;
				width: 50%;
				height: 100%;
				margin: 0;
				padding: 0;

				&-Wrapper {
  				color: #FFFFFF;
					display: block;
					position: relative;
					margin: 0 0 0 25px;
					top: 50px;
				}

				&-Tag {
					font-size: 13px;
					@include Kievit-Medium;
					text-transform: uppercase;
					letter-spacing: 0.05em;
				}
				&-Title {
					font-size: 30px;
					@include Kievit-Book;
					line-height: 1em;
					margin: .75em 0;
					font-weight: normal;
					letter-spacing: 0.02em;
				}

				&-Desc {
					@include Kievit-Regular;
					font-size: 15.5px;
					line-height: 1.5em;
					letter-spacing: .01em;
				}

				&-DonationLinks {
					list-style-type: none;
					display: block;
					margin: 1em 0;
					padding: 0;

					li {
						display: inline-block;
						margin: 0 15px 0 0;

						&:last-child {
							margin-right: 0px
						}

						a {
							color: #FFF;
							display: block;
							font-size: 18px;
							padding: 15px 20px;
							margin: 0;
							border: 2px solid #FFF;
							border-radius: 5px;
						}
					}
				}
  		}
		}
  }
}

